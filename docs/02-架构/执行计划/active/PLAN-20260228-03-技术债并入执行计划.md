# PLAN-20260228-03：技术债并入执行计划

## 背景与目标

- 背景：当前技术债同时存在于 `docs/02-架构/技术债清单.md` 与执行计划体系，信息存在双处维护成本。
- 问题：技术债状态在“清单”与 `backlog.yaml` 之间可能出现更新时差，影响优先级排序与推进可信度。
- 目标：将技术债推进动作统一纳入执行计划 WorkItem 主链路，形成“计划-推进-闭环-证据”单路径治理。
- 非目标：不删除技术债清单的治理价值，不改动既有 CAP 验收口径。

## WorkItem 清单

状态枚举：`todo` / `in_progress` / `blocked` / `done`

| WorkItem | 类型 | 标题 | Owner | 状态 | 验收命令 | 证据目录 |
|---|---|---|---|---|---|---|
| WI-PLAN2026022803-01 | initiative | 计划初始化（待拆解） | repo-owner | todo | `scripts/workflow/run.sh WI-PLAN2026022803-01 progress` | `artifacts/workflow/` |
| WI-PLAN2026022803-02 | task | 定义技术债并入执行计划的映射规则 | repo-owner | todo | `scripts/workflow/backlog.sh check` + `scripts/ci/plan-template-check.sh` | `artifacts/workflow/` |
| WI-PLAN2026022803-03 | task | 落地技术债状态同步门禁 | repo-owner | todo | `scripts/ci/tech-debt-governance-check.sh --out artifacts/ci/tech-debt-governance` + `scripts/ci/workflow-sync-check.sh` | `artifacts/workflow/` |
| WI-PLAN2026022803-04 | debt | 完成技术债并入执行计划并清理重复维护 | repo-owner | todo | `scripts/ci/verify.sh` + `scripts/workflow/backlog.sh check` | `artifacts/workflow/` |

## 推进记录

| 日期 | WorkItem | 动作 | 结果 | 备注 |
|---|---|---|---|---|
| 2026-02-28 | WI-PLAN2026022803-01 | 初始化计划 | pass | 自动创建首个 WorkItem |
| 2026-02-28 | WI-PLAN2026022803-02 ~ WI-PLAN2026022803-04 | 补齐可执行拆解 | pass | 形成“映射规则 -> 门禁同步 -> 收口治理”链路 |

## 验收与证据

- 统一验收入口：`scripts/workflow/run.sh <WI-PLANYYYYMMDDNN-NN> [start|progress|close|full]`
- 统一证据目录：`artifacts/workflow/<WI-ID>/<run-id>/`
- 事件追踪文件：`artifacts/workflow/events/<WI-ID>.jsonl`

## 风险与阻塞

- 风险：迁移过程中若缺少映射规则，可能导致历史技术债记录不可追溯。
- 风险：技术债并入后若未配套状态同步检查，仍可能出现“文档已改、执行未动”。
- 阻塞：暂无硬阻塞。
- 解除阻塞动作：先定义迁移映射与状态同步规则，再执行批量迁移。

## 下一步

1. 启动 `WI-PLAN2026022803-02`，先固化“技术债清单 <-> WorkItem”的映射与迁移规则。
2. 启动 `WI-PLAN2026022803-03`，将状态同步约束接入门禁并形成失败指引。
3. 启动 `WI-PLAN2026022803-04`，完成并入收口并执行全量门禁验证。
